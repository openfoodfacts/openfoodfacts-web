<h1 class="emphasized-title">データ</h1>

<h2 class="emphasized-title">再利用の条件</h2>
<p>Open Beauty Facts データベースは、 <a href="https://opendatacommons.org/licenses/odbl/1.0/">オープン データベース ライセンス</a>に基づいて利用できます。<br/>
データベースの個々のコンテンツは、 <a href="https://opendatacommons.org/licenses/dbcl/1.0/">データベース コンテンツ ライセンス</a>に基づいて利用できます。<br/>
製品画像は、 <a href="https://creativecommons.org/licenses/by-sa/3.0/deed.en">クリエイティブ コモンズ 表示 - 継承ライセンス</a>に基づいて利用できます。
これらには著作権またはその他の権利の対象となるグラフィック要素が含まれる場合がありますが、場合によっては複製が認められる場合があります（引用権または公正使用）。</p>

<p>データを再利用する前に、 <a href="https://world.openbeautyfacts.org/terms-of-use">利用規約と再利用に関する条項</a> をお読みください。</p>


<h2 class="emphasized-title">再利用について教えてください</h2>
<p>私たちは、Open Beauty Facts のデータが何に使用されているのかを知りたいと強く思っています。 It is not mandatory, but we would very much appreciate it if you <a href="mailto:contact@openfoodfacts.org?subject=Open%20Food%20Facts%20Data%20reuse">tell us about your re-uses</a> so that we can share them with the Open Beauty Facts community. また、 <a href="https://forms.gle/hwaeqBfs8ywwhbTg8">このフォームに記入</a> して、アプリが特集されるチャンスを得ることもできます。</p>

<h2 class="emphasized-title">Open Beauty Factsデータのエクスポート</h2>

<p>データベースのダンプとエクスポートは毎晩生成されます。 データベースは非常に大きいため、エクスポートのフレーバーに応じて、データのさまざまな使用方法 <a href="https://wiki.openfoodfacts.org/Reusing_Open_Food_Facts_Data"></a>見つけることができます。</p>

<p>MongoDB ダンプと CSV エクスポートのさまざまなフィールドに関する情報は、 <a href="https://static.openbeautyfacts.org/data/data-fields.txt">https://world.openbeautyfacts.org/data/data-fields.txt</a>で入手できます。</p>

<h3>MongoDB ダンプ</h3>

<p>すべての製品のデータは、MongoDB データベース ダンプで入手できます。</p>
<!--
<h4>Why you'd want to use it: </h4>
<ul>
 <li>This is more comprehensive than CSV exports, if you are looking to advanced use cases.</li>
</ul>
</p>-->
<dl>
 <dt>リンク</dt>
 <dd><a href="https://static.openbeautyfacts.org/data/openbeautyfacts-mongodbdump.gz">https://static.openbeautyfacts.org/data/openbeautyfacts-mongodbdump.gz</a></dd>
 <dt>sha256sum</dt>
 <dd><a href="https://static.openbeautyfacts.org/data/gz-sha256sum">https://static.openbeautyfacts.org/data/gz-sha256sum</a></dd>
 <dt>md5sum</dt>
 <dd><a href="https://static.openbeautyfacts.org/data/gz-md5sum">https://static.openbeautyfacts.org/data/gz-md5sum</a></dd>
</dl>

<h4>デルタエクスポート</h4>

<p>過去 14 日間の毎日のデルタ エクスポートが提供されます。 The list of currently available delta files can be found at
 <a href="https://static.openbeautyfacts.org/data/delta/index.txt">https://static.openbeautyfacts.org/data/delta/index.txt</a>.</p>
<p>各行は、 <code>https://static.openbeautyfacts.org/data/delta/{filename}</code>で入手可能なファイルを表します。</p>
<p>ファイル名には、JSON ファイルに含まれる最初の変更と最後の変更の UNIX タイムスタンプが含まれているため、デルタ ファイルは (抽出後に) <code>mongoimport</code> を使用してアルファベット順にインポートできます。</p>
<p><code>mongoexport</code>の性質上、デルタ ファイルでは削除された製品に関する情報を取得できないことに注意してください。 削除された製品をデータベースから削除するには、MongoDB ダンプ全体をインポートする必要があります。</p>

<h3>JSONLデータのエクスポート</h3>

<p>データベース全体は、各行が JSON オブジェクトである <a href="https://jsonlines.org/">JSONL 形式</a> (LDJSON または NDJSON と呼ばれることもあります) でも利用できます。 これは MongoDB エクスポートと同じデータを表します。 ファイルは gzip で圧縮されています。</p>

<dl>
 <dt>リンク</dt>
 <dd><a href="https://static.openbeautyfacts.org/data/openbeautyfacts-products.jsonl.gz">https://static.openbeautyfacts.org/data/openbeautyfacts-products.jsonl.gz</a>
 </dd>
</dl>

<p>データベースを活用する適切な方法は、DuckDBを使用することです。 これは、大量のデータを数秒で処理するために設計されたインプロセス分析ツールです。 DuckDBを使ってOpen Beauty Factsデータベースを探索し、処理する方法について解説した <a href="https://blog.openfoodfacts.org/en/news/food-transparency-in-the-palm-of-your-hand-explore-the-largest-open-food-database-using-duckdb-%f0%9f%a6%86x%f0%9f%8d%8a">ブログ記事</a> をお読みください。</p>


<h3>Hugging FaceでのParquetデータエクスポート</h3>

<p>JSONL ダンプの簡略化されたバージョンは、 <a href="https://parquet.apache.org/">Parquet 形式</a>でも利用できます。 変換中に、重複した情報を含む列、内部デバッグに使用される列、またはユーザーにとって無関係な列をフィルターしました。</p>
    
<p>Parquet 形式は便利であることが証明されています。<p> 

<ul>
<li>データは行ではなく列ごとに整理されるため、ストレージ スペースが節約され、分析クエリが高速化されます。つまり、必要な列だけを選択して、エントリー レベルのコンピューターでもクエリ パフォーマンスを最適化できます。</li>
<li>非常に効率的なデータ圧縮と解凍により、あらゆる種類の大規模なデータセットの保存と共有に適しています。</li>
<li>複雑なデータ型と高度なネストされたデータ構造をサポートします。</li>
</ul>

<p>データセットは、開発者と研究者がモデルとデータセットを共有できる共同機械学習エコシステムである <a href="https://huggingface.co/datasets/openfoodfacts/product-database">Hugging Face</a>で入手できます。</p>

<dl>
 <dt>リンク</dt>
 <dd><a href="https://huggingface.co/datasets/openfoodfacts/product-database/resolve/main/beauty.parquet?download=true">https://huggingface.co/datasets/openfoodfacts/product-database/resolve/main/beauty.parquet?download=true</a>
 </dd>
</dl>

</p>データの再利用に関するガイドラインや開始するためのサンプルクエリなど、詳細については、 <a href="https://wiki.openfoodfacts.org/Reusing_Open_Food_Facts_Data#Parquet_file_hosted_on_Hugging_Face_.28beta.29">Wiki</a>をご覧ください。</p>


<h3>CSVデータのエクスポート</h3>
<p>Data for all products, or some of the products, can be downloaded in CSV format (readable with OpenOffice, Excel and many other software)
 through the <a href="https://world.openbeautyfacts.org/cgi/search.pl">advanced search form</a>.</p>

<dl>
 <dt>リンク</dt>
 <dd>食品: <a href="https://static.openfoodfacts.org/data/en.openfoodfacts.org.products.csv.gz">https://static.openfoodfacts.org/data/en.openfoodfacts.org.products.csv.gz</a> (GZIP 形式で圧縮された CSV: 約 0.9 Gb、非圧縮: 約 9 Gb)</dd>
 <dd>化粧品: <a href="https://static.openbeautyfacts.org/data/en.openbeautyfacts.org.products.csv.gz">https://static.openbeautyfacts.org/data/en.openbeautyfacts.org.products.csv.gz</a></dd>
 <dd>ペットフード: <a href="https://static.openpetfoodfacts.org/data/en.openpetfoodfacts.org.products.csv.gz">https://static.openpetfoodfacts.org/data/en.openpetfoodfacts.org.products.csv.gz</a></dd>
 <dd>その他すべての製品: <a href="https://static.openproductsfacts.org/data/en.openproductsfacts.org.products.csv.gz">https://static.openproductsfacts.org/data/en.openproductsfacts.org.products.csv.gz</a></dd>
</dl>

<p>ファイルのエンコーディングは Unicode UTF-8 です。 フィールドを区切る文字は &lt;tab&gt; (タブ) です。</p>

<h3>RDFデータのエクスポート</h3>
<p>データベースは RDF 形式でも利用できます (これは実験段階であり、現在は積極的にメンテナンスされていません)。 <a href="https://blog.openfoodfacts.org/fr/news/des-donnees-libres-et-liees-export-rdf-des-donnees">のお知らせはフランス語</a>で読むことができます。</p>

<dl>
 <dt>リンク</dt>
 <dd><a href="https://world.openbeautyfacts.org/data/en.openbeautyfacts.org.products.rdf.gz">https://world.openbeautyfacts.org/data/en.openbeautyfacts.org.products.rdf.gz</a></dd>
</dl>

<h3>画像データのエクスポート</h3>
<p>すべての画像と OCR 結果は、当社のサーバーから、または AWS (AWS オープンデータプログラム経由) からダウンロードできます。 
<a href="https://openfoodfacts.github.io/openfoodfacts-server/api/how-to-download-images/" class="button rounded">画像のダウンロード方法の詳細については、ドキュメントをご覧ください</a></p>

<h2 class="emphasized-title">ライブ JSON および XML API</h2>

<p>製品のデータを読み取るための JSON API も利用できます。 この API は、特に iPhone および Android 向けの Open Beauty Facts モバイル アプリで使用されます。</p>

<p>私たちはAPIの残業を改善しますが、後方互換性を保つように注意しています。 Please tell us if you use it, so that we can tell you about potential changes.</p>

<p>URL to read data for a product: https://world.openbeautyfacts.org/api/v2/product/<i>[barcode]</i>.json</p>

<p>Example: <a href="https://world.openbeautyfacts.org/api/v2/product/3600550578041.json">https://world.openbeautyfacts.org/api/v2/product/3600550578041.json</a></p>
<p>出力が多すぎる場合は、API ドキュメントに記載されているようにフィルタリングできることに注意してください。</p>

<ul>
 <li>
<a href="https://openfoodfacts.github.io/openfoodfacts-server/reference/api/">API V2 - 新しい OpenAPI ドキュメント - 進行中の作業</a>
 </li>
</ul>
<h3 class="emphasized-title">OpenAPI ヘルプ募集</h3>
私たちは、API のドキュメントを完成させ、ユースケースを追加し、SDK の生成を自動化したいと考えています。 OpenAPI の専門家であれば、ぜひ協力していただければ幸いです。
<!-- TODO, should we remove them or put them simply in a deprecated, collapsed accordion
<li>
 <a href="https://wiki.openfoodfacts.org/API">API V1- Old documentation available on the Wiki</a> (Important note: the page is divided into subpages for READ and WRITE). 
 </li>
 <li>
<a href="https://openfoodfacts.github.io/api-documentation/">API V2 - Comprehensive but not OpenAPI compliant</a> - It contains uses cases for displaying a product, and letting your users add the data required to get the Nutri-Score, the NOVA classification, additives, and the Eco-Score.
 </li>
-->

<p>1 回の API 呼び出し = ユーザーによる 1 回の実際のスキャンである限り、本番環境で API を自由に使用できます。
完全な毎日のエクスポートがこのページで利用できるため、API を使用してデータベースをスクレイピングする試みはブロックされる可能性が非常に高くなります。</p>
<p>また、API 呼び出しで HTTP ヘッダーを送信すると、問題が発生した場合に連絡を取ることができます。</p>
<p>何か不明な点や質問がある場合(愚かな質問はありません) お気軽に Slack の #api チャンネルでお問い合わせください :-)</p>

<h3 class="emphasized-title">実験用 XML API</h3>
<p><code>.xml</code> を使用して結果を XML で取得することもできます。</p>
<p>新しいクロスプラットフォーム アプリは Flutter/Dart で開発されています。</p>
この API は積極的にメンテナンスされておらず、公式に文書化されていません。


<h2 class="emphasized-title">ラッパーとSDK</h2>
<p>あなたのお気に入りのプログラミング言語用のラッパーがおそらくあるでしょう。 もしそうなら、それを使用して改善することができます。 もしそうでないなら、あなたがそれを作るのを手伝うことができます。</p>
<p>データの消費だけでなく、ユーザーが新しいデータを投稿できるようにもなります</p>

<h3>ユーザーを満足させるための一般原則</h3>
<ul>
<li>多くの有用な計算値を含む製品に関する情報を検索できます。</li>
<li>特定の製品に関する情報が入手できない場合は、ユーザーに写真やデータを送信してもらうことができます。それらは Open Beauty Facts AI と貢献者によって処理され、ユーザーに表示する計算結果が生成されます。</li>
<li>完全なフローを実装して、ユーザー側で少しの労力をかけるだけですぐに結果が得られるようにすることもできます。</li>
</ul>

<h3>ユーザーがすぐに結果を期待していない場合（例：在庫管理アプリ）</h3>
<ul>
<li>写真を送信する (正面/栄養/材料): ユーザーにとって最も負担の少ないもの</li>
<li>Open Beauty Facts AI - Robotoff - は写真から派生データを生成します</li>
<li>時間が経つにつれて、他のアプリやOpen Beauty Factsコミュニティがデータのギャップを埋めていくだろう</li>
</ul>

<h3>ユーザーがすぐに結果を期待している場合（例：アレルギーアプリ）</h3>
<ul>
<li>原材料 + カテゴリを送信 &gt; 原材料分析、添加物、アレルゲン、標準化原材料、ビーガン、ベジタリアン&hellip;</li>
<li>付加価値のためにラベルを提出する</li>
</ul>

<h3>AndroidおよびiPhoneモバイルアプリ</h3>

<p>The code for the Open Beauty Facts mobile app is available on GitHub (<a href="https://github.com/openfoodfacts/openfoodfacts-androidapp">Android</a> and <a href="https://github.com/openfoodfacts/openfoodfacts-ios">iOS</a>).

<p>非推奨のKotlinとSwiftのコードベースをKotlinとSwift SDKに変えたいと考えています。 help welcome: :-)
アプリを使用すると、商品のバーコードをスキャンできます。 をクリックして製品情報を表示し、不足している製品の写真やデータを提出することができます。</p>
<p><a href="https://github.com/openfoodfacts/openfoodfacts-ios">(<a href="https://github.com/openfoodfacts/smooth-app"></a></a>Android</a> iOS <a href="https://github.com/openfoodfacts/openfoodfacts-androidapp">)。
The app allows users to scan the barcode of products, to view the product information, and to take and submit pictures and data for missing products.</p>

<p>コードを再利用して（オープンソースなので）、地球上のすべての人々のためにコードの改善にご協力ください。</p>

<h3>SDK</h3>
<!-- TODO: Install locally to get icons -->
<!--<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">-->

            <div class="grid-x">
                <div class="cell small-12 medium-6 large-4">
                     <label for="sdkFilter">名前でフィルタリング:</label>
                     <input type="text" id="sdkFilter" placeholder="例: Python、Java、React...">
                </div>
            </div>


            <table class="stack hover" id="sdkTable">
                <thead>
                    <tr>
                        <th width="60">アイコン</th>
                        <th width="200" data-sortable data-column-index="1">言語 / フレームワーク</th>
                        <th>リソース</th>
                        <th data-sortable data-column-index="3">議論</th>
                    </tr>
                </thead>
                <tbody id="sdkTableBody">
                    <tr>
                        <td data-label="Icon"><i class="devicon-cordova-plain"></i></td>
                        <td data-label="Language / Framework">Cordova（旧アプリ）</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-cordova-app" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion">該当なし</td>
                    </tr>
                    <tr>
                        <td data-label="Icon"><i class="devicon-dart-plain"></i></td>
                        <td data-label="Language / Framework">ダート</td>
                        <td data-label="Resources">
                            <a href="https://github.com/openfoodfacts/openfoodfacts-dart" target="_blank" rel="noopener noreferrer">GitHub</a>
                            <a href="https://pub.dev/packages/openfoodfacts" target="_blank" rel="noopener noreferrer">pub.dev</a>
                        </td>
                        <td data-label="Discussion">該当なし</td> </tr>
                    <tr>
                        <td data-label="Icon"><i class="devicon-elixir-plain"></i></td>
                        <td data-label="Language / Framework">エリクサー</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-elixir" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C758AFX0S" target="_blank" rel="noopener noreferrer">Slackチャンネル</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-go-plain"></i></td>
                        <td data-label="Language / Framework">行く</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-go" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C14LGGCUV" target="_blank" rel="noopener noreferrer">Slackチャンネル</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-java-plain"></i></td>
                        <td data-label="Language / Framework">ジャワ</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-java" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C1G3J5RT3" target="_blank" rel="noopener noreferrer">Slackチャンネル</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-java-plain"></i></td>
                        <td data-label="Language / Framework">スプリングブート</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-springboot-starter" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C1G3J5RT3" target="_blank" rel="noopener noreferrer">Slackチャンネル</a></td>
                    </tr>
                    <tr>
                        <td data-label="Icon"><i class="devicon-kotlin-plain"></i></td>
                        <td data-label="Language / Framework">コトリン</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-kotlin" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C045VU7NXS9" target="_blank" rel="noopener noreferrer">Slackチャンネル</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-javascript-plain"></i></td>
                        <td data-label="Language / Framework">JavaScript</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-js" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C1JQQ28P8" target="_blank" rel="noopener noreferrer">Slackチャンネル</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-php-plain"></i></td>
                        <td data-label="Language / Framework">PHP</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-php" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C1G3GTJNM" target="_blank" rel="noopener noreferrer">Slackチャンネル</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-laravel-plain"></i></td>
                        <td data-label="Language / Framework">PHP（ララベル）</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-laravel" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C1G3GTJNM" target="_blank" rel="noopener noreferrer">Slackチャンネル</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-python-plain"></i></td>
                        <td data-label="Language / Framework">パイソン</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-python" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C13993JDD" target="_blank" rel="noopener noreferrer">Slackチャンネル</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-react-original"></i></td> <td data-label="Language / Framework">リアクトネイティブ</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-react-native" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/CL29QEBPY" target="_blank" rel="noopener noreferrer">Slackチャンネル</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-ruby-plain"></i></td>
                        <td data-label="Language / Framework">ルビー</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openbeautyfacts-ruby" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C0ZALLH61" target="_blank" rel="noopener noreferrer">Slackチャンネル</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-rust-plain"></i></td>
                        <td data-label="Language / Framework">赤茶色</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-rust" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C010J616CKV" target="_blank" rel="noopener noreferrer">Slackチャンネル</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-r-plain"></i></td>
                        <td data-label="Language / Framework">R</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/r-dashboard" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C2CR356NR" target="_blank" rel="noopener noreferrer">Slackチャンネル</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-swift-plain"></i></td>
                        <td data-label="Language / Framework">迅速</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-swift" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/CE2A1E7MH" target="_blank" rel="noopener noreferrer">Slackチャンネル</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-csharp-plain"></i></td> <td data-label="Language / Framework">.NET/C#</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-csharp" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C1JHT98HJ" target="_blank" rel="noopener noreferrer">Slackチャンネル</a></td>
                    </tr>
                </tbody>
            </table>



<script>
    // Ensure the DOM is fully loaded before running scripts
    document.addEventListener('DOMContentLoaded', function() {

        // Initialize Foundation framework components
        $(document).foundation();

        // --- Filtering ---
        const filterInput = document.getElementById('sdkFilter');
        const tableBody = document.getElementById('sdkTableBody');
        // Get live collection of rows - updates automatically if rows are added/removed
        const tableRows = tableBody.getElementsByTagName('tr');

        // Add event listener for input changes (keyup is responsive)
        filterInput.addEventListener('keyup', function() {
            const filterText = filterInput.value.toLowerCase().trim(); // Get filter text, lowercase and trim whitespace

            // Loop through all table rows in the body
            for (let i = 0; i < tableRows.length; i++) {
                const row = tableRows[i];
                // Get all text content from the row's cells
                const rowData = row.textContent || row.innerText;

                // Check if row data includes the filter text
                if (rowData.toLowerCase().indexOf(filterText) > -1) {
                    row.style.display = ""; // Show row if it matches
                } else {
                    row.style.display = "none"; // Hide row if it doesn't match
                }
            }
        });

        // --- Sorting ---
        const table = document.getElementById('sdkTable');
        // Select only headers marked as sortable
        const headers = table.querySelectorAll('th[data-sortable]');
        const tbody = table.querySelector('tbody'); // Reference to the table body

        // Add click event listener to each sortable header
        headers.forEach(header => {
            header.addEventListener('click', () => {
                // Get column index from data attribute (adjusting for 0-based index internally)
                const columnIndex = parseInt(header.dataset.columnIndex, 10);
                // Check current sort direction or default to 'asc' if none
                const currentSortDir = header.dataset.sortDir;
                // Toggle direction: if 'asc', change to 'desc', otherwise change to 'asc'
                const newSortDir = currentSortDir === 'asc' ? 'desc' : 'asc';

                // Remove sort direction attributes from all other headers
                headers.forEach(h => {
                    if (h !== header) {
                        delete h.dataset.sortDir; // Remove attribute to reset arrow style via CSS
                    }
                });

                // Set the new sort direction on the clicked header
                header.dataset.sortDir = newSortDir;

                // Call the sorting function
                sortTable(columnIndex, newSortDir);
            });
        });

        // Function to sort table rows
        function sortTable(columnIndex, direction) {
            // Convert HTMLCollection/NodeList of rows to a standard JavaScript Array
            const rows = Array.from(tbody.querySelectorAll('tr'));

            // Sort the array of rows
            const sortedRows = rows.sort((a, b) => {
                // Get the text content of the cells in the target column for comparison
                // Use textContent for consistency, trim whitespace, convert to lowercase
                const cellA = a.querySelectorAll('td')[columnIndex]?.textContent.trim().toLowerCase() || '';
                const cellB = b.querySelectorAll('td')[columnIndex]?.textContent.trim().toLowerCase() || '';

                // Comparison logic
                if (cellA < cellB) {
                    return direction === 'asc' ? -1 : 1; // If 'asc', A comes first (-1), else B comes first (1)
                }
                if (cellA > cellB) {
                    return direction === 'asc' ? 1 : -1; // If 'asc', B comes first (1), else A comes first (-1)
                }
                return 0; // If equal, order doesn't matter
            });

            // Clear the current rows from the table body
            // While loop is efficient for removing all children
            while (tbody.firstChild) {
                tbody.removeChild(tbody.firstChild);
            }

            // Append the sorted rows back into the table body
            // Using spread syntax (...) to append all elements in the array
            tbody.append(...sortedRows);
        }

    }); // End DOMContentLoaded
</script>

<h2 class="emphasized-title">データ、API、エクスポートについて議論する</h2>

<p><a href="https://support.openfoodfacts.org/help/fr-fr/12">APIとデータエクスポートに関するよくある質問</a> と <a href="https://support.openfoodfacts.org/help/fr-fr">Open Food Factsに関するよくある質問</a>をご覧ください。</p>
<p><a href="https://slack.openfoodfacts.org">Open Beauty Facts Slack チャットルーム</a> に参加できます。これは、質問したり API について話し合ったりするための推奨される方法です</a>。 <a href="https://app.slack.com/client/T02KVRT1Q/C043X1X90">ご質問は #api チャンネル</a>までお寄せください</p>
<p><a href="https://github.com/openfoodfacts/openfoodfacts-server/discussions">APIドキュメントリポジトリでスレッドを開くことができます</a>
<p>データに関するご質問は、 <a href="mailto:reuse@openfoodfacts.org">reuse@openfoodfacts.org</a>までお問い合わせください。
