<h1 class="emphasized-title">データ</h1>

<h2 class="emphasized-title">再利用の条件</h2>
<p>Open Pet Food Facts データベースは、 <a href="https://opendatacommons.org/licenses/odbl/1.0/">オープン データベース ライセンス</a>に基づいて利用できます。<br/>
データベースの個々のコンテンツは、 <a href="https://opendatacommons.org/licenses/dbcl/1.0/">データベース コンテンツ ライセンス</a>に基づいて利用できます。<br/>
製品画像は、 <a href="https://creativecommons.org/licenses/by-sa/3.0/deed.en">クリエイティブ コモンズ 表示 - 継承ライセンス</a>に基づいて利用できます。
これらには著作権またはその他の権利の対象となるグラフィック要素が含まれる場合がありますが、場合によっては複製が認められる場合があります（引用権または公正使用）。</p>

<p>データを再利用する前に、 <a href="https://world.openpetfoodfacts.org/terms-of-use">利用規約と再利用に関する条項</a> をお読みください。</p>


<h2 class="emphasized-title">再利用について教えてください</h2>
<p>私たちは、Open Pet Food Facts データが何に使用されているかを知りたいと思っています。 It is not mandatory, but we would very much appreciate it if you <a href="mailto:contact@openfoodfacts.org?subject=Open%20Food%20Facts%20Data%20reuse">tell us about your re-uses</a> so that we can share them with the Open Pet Food Facts community. また、 <a href="https://forms.gle/hwaeqBfs8ywwhbTg8">このフォームに記入</a> して、アプリが特集されるチャンスを得ることもできます。</p>

<h2 class="emphasized-title">Open Pet Food Facts データエクスポート</h2>

<p>データベースのダンプとエクスポートは毎晩生成されます。 データベースは非常に大きいため、エクスポートのフレーバーに応じて、データのさまざまな使用方法 <a href="https://wiki.openfoodfacts.org/Reusing_Open_Food_Facts_Data"></a>見つけることができます。</p>

<p>MongoDB ダンプと CSV エクスポートのさまざまなフィールドに関する情報は、 <a href="https://static.openpetfoodfacts.org/data/data-fields.txt">https://world.openpetfoodfacts.org/data/data-fields.txt</a>で入手できます。</p>

<h3>MongoDB ダンプ</h3>

<p>すべての製品のデータは、MongoDB データベース ダンプで入手できます。</p>
<!--
<h4>Why you'd want to use it: </h4>
<ul>
 <li>This is more comprehensive than CSV exports, if you are looking to advanced use cases.</li>
</ul>
</p>-->
<dl>
 <dt>リンク</dt>
 <dd><a href="https://static.openpetfoodfacts.org/data/openpetfoodfacts-mongodbdump.gz">https://static.openpetfoodfacts.org/data/openpetfoodfacts-mongodbdump.gz</a></dd>
 <dt>sha256sum</dt>
 <dd><a href="https://static.openpetfoodfacts.org/data/gz-sha256sum">https://static.openpetfoodfacts.org/data/gz-sha256sum</a></dd>
 <dt>md5sum</dt>
 <dd><a href="https://static.openpetfoodfacts.org/data/gz-md5sum">https://static.openpetfoodfacts.org/data/gz-md5sum</a></dd>
</dl>

<h4>デルタエクスポート</h4>

<p>過去 14 日間の毎日のデルタ エクスポートが提供されます。 現在利用可能なデルタ ファイルのリストは、 <a href="https://static.openpetfoodfacts.org/data/delta/index.txt">https://static.openpetfoodfacts.org/data/delta/index.txt</a>にあります。</p>
<p>各行は、 <code>https://static.openpetfoodfacts.org/data/delta/{filename}</code>で入手できるファイルを表します。</p>
<p>ファイル名には、JSON ファイルに含まれる最初の変更と最後の変更の UNIX タイムスタンプが含まれているため、デルタ ファイルは (抽出後に) <code>mongoimport</code> を使用してアルファベット順にインポートできます。</p>
<p><code>mongoexport</code>の性質上、デルタ ファイルでは削除された製品に関する情報を取得できないことに注意してください。 削除された製品をデータベースから削除するには、MongoDB ダンプ全体をインポートする必要があります。</p>

<h3>JSONLデータのエクスポート</h3>

<p>データベース全体は、各行が JSON オブジェクトである <a href="https://jsonlines.org/">JSONL 形式</a> (LDJSON または NDJSON と呼ばれることもあります) でも利用できます。 これは MongoDB エクスポートと同じデータを表します。 ファイルは gzip で圧縮されています。</p>

<dl>
 <dt>リンク</dt>
 <dd><a href="https://static.openpetfoodfacts.org/data/openpetfoodfacts-products.jsonl.gz">https://static.openpetfoodfacts.org/data/openpetfoodfacts-products.jsonl.gz</a>
 </dd>
</dl>

<p>データベースを活用する適切な方法は、大量のデータを数秒以内に処理するように設計されたインプロセス分析ツールである DuckDB を使用することです。 DuckDBを使用してOpen Pet Food Factsデータベースを探索および処理する方法について説明した <a href="https://blog.openfoodfacts.org/en/news/food-transparency-in-the-palm-of-your-hand-explore-the-largest-open-food-database-using-duckdb-%f0%9f%a6%86x%f0%9f%8d%8a">ブログ投稿</a> をお読みください。</p>

<h3>CSVデータのエクスポート</h3>
<p>Data for all products, or some of the products, can be downloaded in CSV format (readable with OpenOffice, Excel and many other software)
 through the <a href="https://world.openpetfoodfacts.org/cgi/search.pl">advanced search form</a>.</p>

<dl>
 <dt>リンク</dt>
 <dd>The classic app for <a href="https://github.com/openfoodfacts/openfoodfacts-ios">iOS</a> has never been adapted nor deployed for pet food.</dd>
</dl>

<p>ファイルのエンコーディングは Unicode UTF-8 です。 フィールドを区切る文字は &lt;tab&gt; (タブ) です。</p>

<h3>RDFデータのエクスポート</h3>
<p>データベースは RDF 形式でも利用できます。 <a href="https://blog.openfoodfacts.org/fr/news/des-donnees-libres-et-liees-export-rdf-des-donnees">のお知らせはフランス語</a>で読むことができます。</p>

<dl>
 <dt>リンク</dt>
 <dd><a href="https://world.openpetfoodfacts.org/data/en.openpetfoodfacts.org.products.rdf.gz">https://world.openpetfoodfacts.org/data/en.openpetfoodfacts.org.products.rdf.gz</a></dd>
</dl>

<h3>画像データのエクスポート</h3>
<p>すべての画像と OCR 結果は、当社のサーバーから、または AWS (AWS オープンデータプログラム経由) からダウンロードできます。 画像をダウンロードする方法の詳細については、ドキュメント <a href="https://openfoodfacts.github.io/openfoodfacts-server/api/how-to-download-images/"></a> 参照してください。</p>



<h2 class="emphasized-title">ライブ JSON および XML API</h2>

<p>製品のデータを読み取るための JSON API も利用できます。 この API は、特に iPhone および Android 向けの Open Pet Food Facts モバイル アプリで使用されます。</p>

<p>私たちはAPIの残業を改善しますが、後方互換性を保つように注意しています。 Please tell us if you use it, so that we can tell you about potential changes.</p>

<p>URL to read data for a product: https://world.openpetfoodfacts.org/api/v0/product/<i>[barcode]</i>.json</p>

<p>Example: <a href="https://world.openpetfoodfacts.org/api/v0/product/3600550578041.json">https://world.openpetfoodfacts.org/api/v0/product/3600550578041.json</a></p>
<p>出力が多すぎる場合は、API ドキュメントに記載されているようにフィルタリングできることに注意してください。</p>

<ul>
 <li>
<a href="https://openfoodfacts.github.io/openfoodfacts-server/reference/api/">API V2 - 新しい OpenAPI ドキュメント - 進行中の作業</a>
 </li>
</ul>
<h3 class="emphasized-title">OpenAPI ヘルプ募集</h3>
私たちは、API のドキュメントを完成させ、ユースケースを追加し、SDK の生成を自動化したいと考えています。 OpenAPI の専門家であれば、ぜひ協力していただければ幸いです。
<!-- TODO, should we remove them or put them simply in a deprecated, collapsed accordion
<li>
 <a href="https://wiki.openfoodfacts.org/API">API V1- Old documentation available on the Wiki</a> (Important note: the page is divided into subpages for READ and WRITE). 
 </li>
 <li>
<a href="https://openfoodfacts.github.io/api-documentation/">API V2 - Comprehensive but not OpenAPI compliant</a> - It contains uses cases for displaying a product, and letting your users add the data required to get the Nutri-Score, the NOVA classification, additives, and the Eco-Score.
 </li>
-->

<p>1 回の API 呼び出し = ユーザーによる 1 回の実際のスキャンである限り、本番環境で API を自由に使用できます。
完全な毎日のエクスポートがこのページで利用できるため、API を使用してデータベースをスクレイピングする試みはブロックされる可能性が非常に高くなります。</p>
<p>また、API 呼び出しで HTTP ヘッダーを送信すると、問題が発生した場合に連絡を取ることができます。</p>
<p>何か不明な点や質問がある場合(愚かな質問はありません) お気軽に Slack の #api チャンネルでお問い合わせください :-)</p>

<h3 class="emphasized-title">実験用 XML API</h3>
<p><code>.xml</code> を使用して結果を XML で取得することもできます。</p>
<p><a href="https://openfoodfacts.github.io/api-documentation/">API V2 - 包括的ですが、OpenAPI に準拠していません</a> - 製品を表示するためのユースケースが含まれており、ユーザーが Nutri-Score、NOVA 分類、添加物、および Eco-Score を取得するために必要なデータを追加できるようにします。</p>
この API は積極的にメンテナンスされておらず、公式に文書化されていません。


<h2 class="emphasized-title">ラッパーとSDK</h2>
<p>あなたのお気に入りのプログラミング言語用のラッパーがおそらくあるでしょう。 もしそうなら、それを使用して改善することができます。 もしそうでないなら、あなたがそれを作るのを手伝うことができます。</p>
<p>データの消費だけでなく、ユーザーが新しいデータを投稿できるようにもなります</p>

<h3>ユーザーを満足させるための一般原則</h3>
<ul>
<li>多くの有用な計算値を含む製品に関する情報を検索できます。</li>
<li>特定の製品に関する情報が入手できない場合は、ユーザーに写真やデータを送信してもらうことができます。それらは Open Pet Food Facts AI と貢献者によって処理され、ユーザーに表示する計算結果が生成されます。</li>
<li>完全なフローを実装して、ユーザー側で少しの労力をかけるだけですぐに結果が得られるようにすることもできます。</li>
</ul>

<h3>ユーザーがすぐに結果を期待していない場合（例：在庫管理アプリ）</h3>
<ul>
<li>写真を送信する (正面/栄養/材料): ユーザーにとって最も負担の少ないもの</li>
<li>Open Pet Food Facts AI - Robotoff - は写真から派生データを生成します</li>
<li>時間が経つにつれて、他のアプリやOpen Pet Food Factsコミュニティがデータのギャップを埋めていくだろう。</li>
</ul>

<h3>ユーザーがすぐに結果を期待している場合（例：栄養やアレルギーのアプリ）</h3>
<ul>
<li>原材料 + カテゴリを送信 &gt; 原材料分析、添加物、アレルゲン、標準化原材料、ビーガン、ベジタリアン&hellip;</li>
<li>付加価値のためにラベルを提出する</li>
<li>栄養情報を送信</li>
</ul>

<h3>AndroidおよびiPhoneモバイルアプリ</h3>

<p>現在のユニバーサル アプリ「Open Food Facts」のコードは、GitHub (<a href="https://github.com/openfoodfacts/smooth-app">Flutter</a>) で入手できます。 ペットフードをスキャンして追加できます。
 
Android で引き続き利用可能な従来の Open Pet Food Facts モバイル アプリは、Kotlin で構築されています。 計画としては、これを Flutter アプリの Open Pet Food Facts ブランド版に更新することです。

<p>廃止予定の Kotlin および Swift コードベースを Kotlin および Swift SDK に変換する予定ですので、ご協力をお待ちしています :-)
<p><a href="https://github.com/openfoodfacts/openfoodfacts-androidapp">Kotlin Android</a> と <a href="https://github.com/openfoodfacts/openfoodfacts-ios">Swift iOS</a></p>
<p><a href="https://github.com/openfoodfacts/openfoodfacts-ios">(<a href="https://github.com/openfoodfacts/smooth-app"></a></a>Android</a> iOS <a href="https://github.com/openfoodfacts/openfoodfacts-androidapp">)。
The app allows users to scan the barcode of products, to view the product information, and to take and submit pictures and data for missing products.</p>

<p>コードを再利用して（オープンソースなので）、地球上のすべての人々のためにコードの改善にご協力ください。</p>

<h3>SDK</h3>
<!-- TODO: Install locally -->
<!--<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">-->
<ul>
<li><i class="devicon-cordova-plain"></i> Cordova: <a href="https://github.com/openfoodfacts/openfoodfacts-cordova-app">GitHub (旧 Open Pet Food Facts 公式アプリ)</a></li>
<li><i class="devicon-dart-plain"></i> DART: <a href="https://github.com/openfoodfacts/openfoodfacts-dart">GitHub</a> - <a href="https://pub.dev/packages/openfoodfacts">pub.dev のパッケージ</a></li>
<li><i class="devicon-elixir-plain"></i> Elixir: <a href="https://github.com/openfoodfacts/openfoodfacts-elixir">GitHub</a> - <a href="https://app.slack.com/client/T02KVRT1Q/C758AFX0S">ディスカッションチャンネル</a></li>
<li><i class="devicon-go-plain"></i> Go: <a href="https://github.com/openfoodfacts/openfoodfacts-go">GitHub</a> - <a href="https://app.slack.com/client/T02KVRT1Q/C14LGGCUV">ディスカッションチャンネル</a></li>
<li><i class="devicon-java-plain"></i> Java: <a href="https://github.com/openfoodfacts/openfoodfacts-java">GitHub</a> - <a href="https://app.slack.com/client/T02KVRT1Q/C1G3J5RT3">ディスカッションチャンネル</a></li>
<li><i class="devicon-java-plain"></i> Spring Boot: <a href="https://github.com/openfoodfacts/openfoodfacts-springboot-starter">GitHub</a> - <a href="https://app.slack.com/client/T02KVRT1Q/C1G3J5RT3">ディスカッションチャンネル</a></li>
<li><i class="devicon-kotlin-plain"></i> Kotlin: <a href="https://github.com/openfoodfacts/openfoodfacts-kotlin">GitHub</a> - <a href="https://app.slack.com/client/T02KVRT1Q/C045VU7NXS9">ディスカッションチャンネル</a></li>
<li><i class="devicon-nodejs-plain"></i> NodeJS: <a href="https://github.com/openfoodfacts/openfoodfacts-nodejs">GitHub</a> - <a href="https://app.slack.com/client/T02KVRT1Q/C1JQQ28P8">ディスカッションチャンネル</a></li>
<li><i class="devicon-php-plain"></i> PHP: <a href="https://github.com/openfoodfacts/openfoodfacts-php">GitHub</a> - <a href="https://app.slack.com/client/T02KVRT1Q/C1G3GTJNM">ディスカッションチャンネル</a></li>
<li><i class="devicon-laravel-plain"></i> PHP (Laravel): <a href="https://github.com/openfoodfacts/openfoodfacts-laravel">GitHub</a> - <a href="https://app.slack.com/client/T02KVRT1Q/C1G3GTJNM">ディスカッションチャンネル</a></li>
<li><i class="devicon-python-plain"></i>  Python: <a href="https://github.com/openfoodfacts/openfoodfacts-python">GitHub</a> - <a href="https://app.slack.com/client/T02KVRT1Q/C13993JDD">ディスカッションチャンネル</a></li>
<li><i class="devicon-react-plain"></i> React Native: <a href="https://github.com/openfoodfacts/openfoodfacts-react-native">GitHub</a> - <a href="https://app.slack.com/client/T02KVRT1Q/CL29QEBPY">ディスカッションチャンネル</a></li>
<li><i class="devicon-ruby-plain"></i> Ruby: <a href="https://github.com/openfoodfacts/openfoodfacts-ruby">GitHub</a> - <a href="https://app.slack.com/client/T02KVRT1Q/C0ZALLH61">ディスカッションチャンネル</a></li>
<li><i class="devicon-rust-plain"></i> Rust: <a href="https://github.com/openfoodfacts/openfoodfacts-rust">GitHub</a> - <a href="https://app.slack.com/client/T02KVRT1Q/C010J616CKV">ディスカッションチャンネル</a></li> 
<li><i class="devicon-r-plain"></i> R: <a href="https://github.com/openfoodfacts/r-dashboard">GitHub</a> - <a href="https://app.slack.com/client/T02KVRT1Q/C2CR356NR">ディスカッションチャンネル</a></li> 
<li><i class="devicon-swift-plain"></i> Swift: <a href="https://github.com/openfoodfacts/openfoodfacts-swift">GitHub</a> - <a href="https://app.slack.com/client/T02KVRT1Q/CE2A1E7MH">ディスカッションチャンネル</a></li> 
<li><i class="devicon-c#-plain"></i> .NET/C#: <a href="https://github.com/openfoodfacts/openfoodfacts-csharp">GitHub</a> - <a href="https://app.slack.com/client/T02KVRT1Q/C1JHT98HJ">ディスカッションチャンネル</a></li> 
</ul>

<h2 class="emphasized-title">データ、API、エクスポートについて議論する</h2>

<p><a href="https://support.openfoodfacts.org/help/fr-fr/12">APIとデータエクスポートに関するよくある質問</a> と <a href="https://support.openfoodfacts.org/help/fr-fr">Open Food Factsに関するよくある質問</a>をご覧ください。</p>
<p><a href="https://slack.openfoodfacts.org">Open Pet Food Facts Slack チャットルーム</a> に参加できます。これは、質問したり API について話し合ったりするための推奨される方法です</a>。 <a href="https://app.slack.com/client/T02KVRT1Q/C043X1X90">ご質問は #api チャンネル</a>までお寄せください</p>
<p>https://github.com/openfoodfacts/api-documentation/discussions
<p>データに関するご質問は、 <a href="mailto:reuse@openfoodfacts.org">reuse@openfoodfacts.org</a>までお問い合わせください。
