<h1 class="emphasized-title">Data</h1>

<h2 class="emphasized-title">Betingelser for genbrug</h2>
<p>OFF-databasen er tilgængelig under <a href="https://opendatacommons.org/licenses/odbl/1.0/">Open Database License</a>.<br/>
Databasens individuelle indhold er tilgængeligt under <a href="https://opendatacommons.org/licenses/dbcl/1.0/">Database Content License</a>.<br/>
Produktfotos er tilgængelige under <a href="https://creativecommons.org/licenses/by-sa/3.0/deed.en">Creative Commons Attribution ShareAlike-licensen</a>.
De kan indeholde grafiske elementer underlagt ophavsret eller andre rettigheder, som i visse tilfælde må reproduceres (citatrettigheder eller fair brug).</p>

<p>Læs venligst <a href="https://world.openfoodfacts.org/terms-of-use">Vilkår og betingelser for brug og genbrug</a> før genbrug af ​​dataene.</p>


<h2 class="emphasized-title">Fortæl os om dit genbrug</h2>
<p>Vi er meget interesserede i at erfare, hvad Open Food Facts-dataene anvendes til. Det er ikke et krav, men vi ville sætte stor pris på, hvis du <a href="mailto:reuse@openfoodfacts.org?subject=Open%20Food%20Facts%20Data%20reuse">fortæller os om dine genanvendelser</a>, så vi kan dele dem med Open Food Facts-fællesskabet. You can also <a href="https://forms.gle/hwaeqBfs8ywwhbTg8">fill this form</a> to get a chance to get your app featured.</p>

<h2 class="emphasized-title">Open Food Facts-dataekport</h2>

<p>Database-dumps og eksporter genereres hver nat. The database is very big, so you can find <a href="https://wiki.openfoodfacts.org/Reusing_Open_Food_Facts_Data">different ways to use the data</a>, depending on the export flavor.</p>

<p>Oplysninger om de forskellige felter til MongoDB-udtræk og CSV-eksport er tilgængelig via <a href="https://static.openfoodfacts.org/data/data-fields.txt">https://world.openfoodfacts.org/data/data-fields.txt</a></p>

<h3>MongoDB-udtræk</h3>

<p>Data til alle produkter er tilgængelig i et MongoDB-databaseudtræk.</p>
<!--
<h4>Why you'd want to use it: </h4>
<ul>
 <li>This is more comprehensive than CSV exports, if you are looking to advanced use cases.</li>
</ul>
</p>-->
<dl>
 <dt>Link</dt>
 <dd><a href="https://static.openfoodfacts.org/data/openfoodfacts-mongodbdump.gz">https://static.openfoodfacts.org/data/openfoodfacts-mongodbdump.gz</a></dd>
 <dt>sha256sum</dt>
 <dd><a href="https://static.openfoodfacts.org/data/gz-sha256sum">https://static.openfoodfacts.org/data/gz-sha256sum</a></dd>
 <dt>md5sum</dt>
 <dd><a href="https://static.openfoodfacts.org/data/gz-md5sum">https://static.openfoodfacts.org/data/gz-md5sum</a></dd>
</dl>

<h4>Deltaeksport</h4>

<p>Daglig deltaeksporter er tilgængelige for de foregående 14 dage. Listen over aktuelt tilgængelige deltafiler kan findes på <a href="https://static.openfoodfacts.org/data/delta/index.txt">https://static.openfoodfacts.org/data/delta/index.txt</a>.</p>
<p>Hver linje repræsenterer en fil, der er tilgængelig via <code>https://static.openfoodfacts.org/data/delta/{filename}</code>.</p>
<p>Filnavnet indeholder UNIX-tidsstempel for den første og sidste ændring i JSON-filen, så deltafilerne kan importeres (efter udtrækning) med <code>mongoimport</code> i alfabetisk rækkefølge.</p>
<p>Bemærk, at grundet funktionaliteten af ​​<code>mongoexport</code> kan deltafilerne ikke oplyse dig om slettede produkter. For at fjerne slettede produkter fra din database skal du importere det fulde MongoDB-dump.</p>

<h3>CSV-dataeksport</h3>

<p>Hele databasen er også tilgængelig i <a href="https://jsonlines.org/">JSONL-format</a> (undertiden betegnet LDJSON eller NDJSON), hvor hver linje er et JSON-objekt. Det repræsenterer de samme data som MongoDB-eksporten. Filen komprimeres med gzip.</p>

<dl>
 <dt>Link</dt>
 <dd><a href="https://static.openfoodfacts.org/data/openfoodfacts-products.jsonl.gz">https://static.openfoodfacts.org/data/openfoodfacts-products.jsonl.gz</a>
 </dd>
</dl>

<p>En passende måde at udnytte databasen på er at bruge DuckDB, et analyseværktøj designet til at behandle store mængder data på en brøkdel af et sekund. Du kan læse vores <a href="https://blog.openfoodfacts.org/en/news/food-transparency-in-the-palm-of-your-hand-explore-the-largest-open-food-database-using-duckdb-%f0%9f%a6%86x%f0%9f%8d%8a">blogindlæg</a>, hvor vi guider dig gennem udforskning og behandling af Open Food Facts-databasen med DuckDB</p>

<h3>CSV-dataeksport</h3>

<p>En forenklet version af JSONL-dumpen er også tilgængelig i <a href="https://parquet.apache.org/">Parquet-formatet</a>. Under konverteringen filtrerede vi kolonner med duplikerede oplysninger, kolonner til intern fejlfinding eller kolonner, der var irrelevante for brugerne.</p>
    
<p>Parquet-formatet viser sig at være praktisk:<p> 

<ul>
<li>Data er organiseret efter kolonne snarere end efter række, hvilket sparer lagerplads og fremskynder analyseforespørgsler, dvs. du kan vælge netop de kolonner, du holder af, og optimere forespørgselsydeevnen, selv på standard computere.</li>
<li>Meget effektiv datakomprimering og dekomprimering, hvilket gør det godt til lagring og deling af store datasæt af enhver art,</li>
<li>Understøtter komplekse datatyper og avancerede indlejrede datastrukturer.</li>
</ul>

<p>Datasættet er tilgængeligt på <a href="https://huggingface.co/datasets/openfoodfacts/product-database">Hugging Face</a>, et kollaborativt økosystem for maskinlæring, hvor udviklere og forskere kan dele modeller og datasæt.</p>

<dl>
 <dt>Link</dt>
 <dd><a href="https://huggingface.co/datasets/openfoodfacts/product-database/resolve/main/food.parquet?download=true">https://huggingface.co/datasets/openfoodfacts/product-database/resolve/main/food.parquet?download=true</a>
 </dd>
</dl>

</p>Find flere oplysninger i <a href="https://wiki.openfoodfacts.org/Reusing_Open_Food_Facts_Data#Parquet_file_hosted_on_Hugging_Face_.28beta.29">Wikien</a>, herunder retningslinjer for datagenbrug og eksempel på forespørgsler til at komme i gang.</p>

<h3>CSV-dataeksport</h3>
<p>Data for alle produkter, eller nogle af produkterne, kan hentes i CSV-format (kan læses med LibreOffice, Excel og mange andre regnearksprogrammer) via <a href="https://world.openfoodfacts.org/cgi/search.pl">avanceret søgeformular</a>.</p>

<dl>
 <dt>Links</dt>
 <dd>Fødevarer: <a href="https://static.openfoodfacts.org/data/en.openfoodfacts.org.products.csv.gz">https://static.openfoodfacts.org/data/en.openfoodfacts.org.products.csv.gz</a> (komprimeret CSV i GZIP-format: ~ 0,9 Gb, ukomprimeret: ~ 9 Gb)</dd>
 <dd>Kosmetik: <a href="https://static.openbeautyfacts.org/data/en.openbeautyfacts.org.products.csv.gz">https://static.openbeautyfacts.org/data/en.openbeautyfacts.org.products.csv.gz</a></dd>
 <dd>Dyrefoder: <a href="https://static.openpetfoodfacts.org/data/en.openpetfoodfacts.org.products.csv.gz">https://static.openpetfoodfacts.org/data/en.openpetfoodfacts.org.products.csv.gz</a></dd>
 <dd>Alle andre produkter: <a href="https://static.openproductsfacts.org/data/en.openproductsfacts.org.products.csv.gz">https://static.openproductsfacts.org/data/en.openproductsfacts.org.products.csv.gz</a></dd>
</dl>

<p>Filindkodningen er Unicode UTF-8. Skilletegn for felter er &lt;tab&gt; (tabulering).</p>

<h3>Billeddataeksport</h3>
<p>Databasen er også tilgængelig i RDF-formatet (dette er et eksperiment, der ikke længere vedligeholdes aktivt). Du kan læse <a href="https://blog.openfoodfacts.org/fr/news/des-donnees-libres-et-liees-export-rdf-des-donnees">meddelelsen på fransk</a>.</p>

<dl>
 <dt>Link</dt>
 <dd><a href="https://world.openfoodfacts.org/data/en.openfoodfacts.org.products.rdf.gz">https://world.openfoodfacts.org/data/en.openfoodfacts.org.products.rdf.gz</a></dd>
</dl>

<h3>Billeddataeksport</h3>
<p>Alle billeder og OCR-resultater kan enten hentes fra vores server eller fra AWS (via AWS Open Data Program). 
<a href="https://openfoodfacts.github.io/openfoodfacts-server/api/how-to-download-images/" class="button rounded">Se vores dokumentation for at få mere at vide om, hvordan du henter billeder</a></p>

<h2 class="emphasized-title">OpenAPI Documentation for the JSON API</h2>
<p>En JSON API er også tilgængelig til læsning af et produkts data. Denne API bruges især i Open Food Facts-mobilappen.</p>
<p>API'en forbedres over tid samtidig med, at bagudkompatibiliteten bevares. <a href="mailto:reuse@openfoodfacts.org?subject=Open%20Food%20Facts%20Data%20reuse">Kontakt os</a> venligst, hvis du bruger det, så vi kan fortælle dig om eventuelle ændringer.</p>
<a href="https://openfoodfacts.github.io/openfoodfacts-server/api/" class="button rounded">Oplev vores API</a>

<h3 class="emphasized-title">Contributing to improving our API and OpenAPI documentation</h3>
<p>Vi er ivrige efter at færdiggøre API-dokumentationen, tilføje brugsscenarier og automatisere SDK-generering. If you are an OpenAPI connoisseur, you are very welcome to help.</p>

<p>You are very welcome to use the API for production cases, as long as 1 API call = 1 real scan by a user.
Any attempt to scrape the database using the API will very likely be blocked, as full daily exports are available on this very page.</p>
<p>Also, sending an HTTP header with your API call is a good way we can get in touch, should any issue arise.</p>

<h3 class="emphasized-title">XML API (unsupported)</h3>
<p>The code for the official Open Food Facts mobile apps is available on GitHub
 <a href="https://github.com/openfoodfacts/smooth-app">Flutter</a>
 <a href="https://github.com/openfoodfacts/openfoodfacts-androidapp">Kotlin Android</a>
 <a href="https://github.com/openfoodfacts/openfoodfacts-ios">Swift iOS</a></p>
<p>We look to turn the deprecated Kotlin and Swift codebases into Kotlin and Swift SDKs, help welcome :-)</p>
This API is not actively maintained, and not officially documented.

<h2 class="emphasized-title">Wrappers og SDK'er</h2>
<p>Vi har sandsynligvis en wrapper til dit yndlingsprogrammeringssprog. Har vi det, kan du bruge og forbedre den. Har vi ikke det, kan du hjælpe med at kreere den.</p>
<p>Du er velkommen til at genbruge kildekoderne (de er open-source) og hjælpe os med at forbedre dem for alle på hele planeten.</p>

<h3>General principles to make your users happy</h3>
<ul>
<li>You can search for information about products, including many useful computed values.</li>
<li>DART: <a href="https://github.com/openfoodfacts/openfoodfacts-dart">GitHub</a></li>
<li>Det komplette flow kan også implementeres, så resultatet, med en vis indsats på deres side, får straks.</li>
</ul>

<h3>Forventer dine brugere et resultat straks (f.eks. ernærings-apps)</h3>
<ul>
<li>Submit photos (front/nutrition/ingredients): most painless thing for your users</li>
<li>The Open Food Facts AI - Robotoff - will generate some derived data from the photos</li>
<li>Over tid vil andre apps og Open Food Facts-fællesskabet udfylde datahullerne</li>
</ul>

<h3>Android/iPhone/Flutter mobile app</h3>
<ul>
<li>Submit nutrition facts + category &gt; get Nutri-Score</li>
<li>Submit ingredients &gt; get the NOVA group (about food ultra-processing), additives, allergens, normalized ingredients, vegan, vegetarian&hellip;</li>
<li>Submit category + labels &gt; soon get the Green-Score (about environmental impact)</li>
</ul>

<h3>Android/iPhone/Flutter mobile app</h3>

<p>The code for the official Open Food Facts mobile apps is available on GitHub
 <a href="https://github.com/openfoodfacts/smooth-app">Flutter</a>
 <a href="https://github.com/openfoodfacts/openfoodfacts-androidapp">Kotlin Android</a>
 <a href="https://github.com/openfoodfacts/openfoodfacts-ios">Swift iOS</a>

<p>Vi ønsker at omdanne de forældede Kotlin- og Swift-kodebaser til Kotlin- og Swift-SDK'er. Hjælp er velkommen :-)</p>
<p>Du kan <a href="https://github.com/openfoodfacts/api-documentation/discussions">åbne en tråd på vores API-dokumentationsrepo</a></p>
<p>Du er velkommen til at genbruge kildekoderne (de er open-source) og hjælpe os med at forbedre dem for alle på hele planeten.</p>

<h3>SDKs</h3>
<!-- TODO: Install locally to get icons -->
<!--<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">-->

            <div class="grid-x">
                <div class="cell small-12 medium-6 large-4">
                     <label for="sdkFilter">Filter by name:</label>
                     <input type="text" id="sdkFilter" placeholder="e.g., Python, Java, React...">
                </div>
            </div>


            <table class="stack hover" id="sdkTable">
                <thead>
                    <tr>
                        <th width="60">Icon</th>
                        <th width="200" data-sortable data-column-index="1">Language / Framework</th>
                        <th>Ressourcer</th>
                        <th data-sortable data-column-index="3">Discussion</th>
                    </tr>
                </thead>
                <tbody id="sdkTableBody">
                    <tr>
                        <td data-label="Icon"><i class="devicon-cordova-plain"></i></td>
                        <td data-label="Language / Framework">Cordova (Old App)</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-cordova-app" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion">Ikke tilgængelig</td>
                    </tr>
                    <tr>
                        <td data-label="Icon"><i class="devicon-dart-plain"></i></td>
                        <td data-label="Language / Framework">DART</td>
                        <td data-label="Resources">
                            <a href="https://github.com/openfoodfacts/openfoodfacts-dart" target="_blank" rel="noopener noreferrer">GitHub</a>
                            <a href="https://pub.dev/packages/openfoodfacts" target="_blank" rel="noopener noreferrer">pub.dev</a>
                        </td>
                        <td data-label="Discussion">Ikke tilgængelig</td> </tr>
                    <tr>
                        <td data-label="Icon"><i class="devicon-elixir-plain"></i></td>
                        <td data-label="Language / Framework">Elixir</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-elixir" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C758AFX0S" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-go-plain"></i></td>
                        <td data-label="Language / Framework">Gå</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-go" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C14LGGCUV" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-java-plain"></i></td>
                        <td data-label="Language / Framework">Java</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-java" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C1G3J5RT3" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-java-plain"></i></td>
                        <td data-label="Language / Framework">Spring Boot</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-springboot-starter" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C1G3J5RT3" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                    <tr>
                        <td data-label="Icon"><i class="devicon-kotlin-plain"></i></td>
                        <td data-label="Language / Framework">Kotlin</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-kotlin" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C045VU7NXS9" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-nodejs-plain"></i></td>
                        <td data-label="Language / Framework">NodeJS</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-nodejs" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C1JQQ28P8" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-php-plain"></i></td>
                        <td data-label="Language / Framework">PHP</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-php" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C1G3GTJNM" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-laravel-plain"></i></td>
                        <td data-label="Language / Framework">PHP (Laravel)</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-laravel" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C1G3GTJNM" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-python-plain"></i></td>
                        <td data-label="Language / Framework">Python</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-python" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C13993JDD" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-react-original"></i></td> <td data-label="Language / Framework">React Native</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-react-native" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/CL29QEBPY" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-ruby-plain"></i></td>
                        <td data-label="Language / Framework">Ruby</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-ruby" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C0ZALLH61" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-rust-plain"></i></td>
                        <td data-label="Language / Framework">Rustfarvet</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-rust" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C010J616CKV" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-r-plain"></i></td>
                        <td data-label="Language / Framework">R</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/r-dashboard" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C2CR356NR" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-swift-plain"></i></td>
                        <td data-label="Language / Framework">Swift</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-swift" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/CE2A1E7MH" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-csharp-plain"></i></td> <td data-label="Language / Framework">.NET/C#</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-csharp" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C1JHT98HJ" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                </tbody>
            </table>



<script>
    // Ensure the DOM is fully loaded before running scripts
    document.addEventListener('DOMContentLoaded', function() {

        // Initialize Foundation framework components
        $(document).foundation();

        // --- Filtering ---
        const filterInput = document.getElementById('sdkFilter');
        const tableBody = document.getElementById('sdkTableBody');
        // Get live collection of rows - updates automatically if rows are added/removed
        const tableRows = tableBody.getElementsByTagName('tr');

        // Add event listener for input changes (keyup is responsive)
        filterInput.addEventListener('keyup', function() {
            const filterText = filterInput.value.toLowerCase().trim(); // Get filter text, lowercase and trim whitespace

            // Loop through all table rows in the body
            for (let i = 0; i < tableRows.length; i++) {
                const row = tableRows[i];
                // Get all text content from the row's cells
                const rowData = row.textContent || row.innerText;

                // Check if row data includes the filter text
                if (rowData.toLowerCase().indexOf(filterText) > -1) {
                    row.style.display = ""; // Show row if it matches
                } else {
                    row.style.display = "none"; // Hide row if it doesn't match
                }
            }
        });

        // --- Sorting ---
        const table = document.getElementById('sdkTable');
        // Select only headers marked as sortable
        const headers = table.querySelectorAll('th[data-sortable]');
        const tbody = table.querySelector('tbody'); // Reference to the table body

        // Add click event listener to each sortable header
        headers.forEach(header => {
            header.addEventListener('click', () => {
                // Get column index from data attribute (adjusting for 0-based index internally)
                const columnIndex = parseInt(header.dataset.columnIndex, 10);
                // Check current sort direction or default to 'asc' if none
                const currentSortDir = header.dataset.sortDir;
                // Toggle direction: if 'asc', change to 'desc', otherwise change to 'asc'
                const newSortDir = currentSortDir === 'asc' ? 'desc' : 'asc';

                // Remove sort direction attributes from all other headers
                headers.forEach(h => {
                    if (h !== header) {
                        delete h.dataset.sortDir; // Remove attribute to reset arrow style via CSS
                    }
                });

                // Set the new sort direction on the clicked header
                header.dataset.sortDir = newSortDir;

                // Call the sorting function
                sortTable(columnIndex, newSortDir);
            });
        });

        // Function to sort table rows
        function sortTable(columnIndex, direction) {
            // Convert HTMLCollection/NodeList of rows to a standard JavaScript Array
            const rows = Array.from(tbody.querySelectorAll('tr'));

            // Sort the array of rows
            const sortedRows = rows.sort((a, b) => {
                // Get the text content of the cells in the target column for comparison
                // Use textContent for consistency, trim whitespace, convert to lowercase
                const cellA = a.querySelectorAll('td')[columnIndex]?.textContent.trim().toLowerCase() || '';
                const cellB = b.querySelectorAll('td')[columnIndex]?.textContent.trim().toLowerCase() || '';

                // Comparison logic
                if (cellA < cellB) {
                    return direction === 'asc' ? -1 : 1; // If 'asc', A comes first (-1), else B comes first (1)
                }
                if (cellA > cellB) {
                    return direction === 'asc' ? 1 : -1; // If 'asc', B comes first (1), else A comes first (-1)
                }
                return 0; // If equal, order doesn't matter
            });

            // Clear the current rows from the table body
            // While loop is efficient for removing all children
            while (tbody.firstChild) {
                tbody.removeChild(tbody.firstChild);
            }

            // Append the sorted rows back into the table body
            // Using spread syntax (...) to append all elements in the array
            tbody.append(...sortedRows);
        }

    }); // End DOMContentLoaded
</script>

<h2 class="emphasized-title">Debattere data, API og eksport</h2>

<p>You can look at <a href="https://support.openfoodfacts.org/help/fr-fr/12">common FAQ questions about the API and Data Exports</a> and <a href="https://support.openfoodfacts.org/help/fr-fr">common Open Food Facts questions</a></p>
<p>You can <a href="https://slack.openfoodfacts.org">join the Open Food Facts Slack chatroom</a> which is the preferred way to ask questions and discuss the API</a>. Please <a href="https://app.slack.com/client/T02KVRT1Q/C043X1X90">ask your questions in the #api channel</a></p>
<p>You can <a href="https://github.com/openfoodfacts/openfoodfacts-server/discussions">open a thread on our API documentation repository</a>
<p>Hvis du har spørgsmål vedrørende dataene, kan du kontakte os på <a href="mailto:reuse@openfoodfacts.org">reuse@openfoodfacts.org</a>
