<h1 class="emphasized-title">Datos</h1>

<h2 class="emphasized-title">Condiciones de reutilización</h2>
<p>La base de datos de Open Food Facts está disponible bajo la licencia <a href="https://opendatacommons.org/licenses/odbl/1.0/">Open Database License</a>.<br/>
Los contenidos individuales de la base de datos están disponibles bajo la licencia <a href="https://opendatacommons.org/licenses/dbcl/1.0/">Database Contents License</a>.<br/>
Las imágenes de los productos están disponibles bajo la licencia <a href="https://creativecommons.org/licenses/by-sa/3.0/deed.en">Creative Commons Attribution ShareAlike</a>.
Pueden contener elementos gráficos sujetos a derechos de autor u otros derechos que, en algunos casos, pueden reproducirse (derechos de cotización o uso legítimo).</p>

<p>Por favor, lee las <a href="https://es.openfoodfacts.org/condiciones-de-uso">Condiciones de uso y reutilización</a> antes de utilizar los datos.</p>


<h2 class="emphasized-title">Háblanos sobre tu reutilización</h2>
<p>Nos gustaría saber cómo se utilizan los datos de Open Food Facts. No es obligatorio, pero nos encantaría que nos contaras <a href="mailto:reuse@openfoodfacts.org?subject=Open%20Food%20Facts%20Data%20reuse">cómo vas a utilizar los datos</a> y así poder compartirlo con la comunidad de Open Food Facts. También puedes <a href="https://forms.gle/hwaeqBfs8ywwhbTg8">rellenar este formulario</a> para hacer destacar tu aplicación.</p>

<h2 class="emphasized-title">Exportar datos de Open Food Facts</h2>

<p>Los volcados de la base de datos y las exportaciones se generan todas las noches. La base de datos es muy amplia, así que puedes encontrar <a href="https://wiki.openfoodfacts.org/Reusing_Open_Food_Facts_Data">diferentes formas para usar los datos</a>, dependiendo de la muestra de la exportación.</p>

<p>La información sobre los diferentes campos para el volcado de MongoDB y las exportaciones de CSV está disponible en <a href="https://static.openfoodfacts.org/data/data-fields.txt">https://world.openfoodfacts.org/data/data-fields.txt</a>.</p>

<h3>Volcado de MongoDB</h3>

<p>Los datos para todos los productos están disponibles en un volcado de base de datos MongoDB.</p>
<!--
<h4>Why you'd want to use it: </h4>
<ul>
 <li>This is more comprehensive than CSV exports, if you are looking to advanced use cases.</li>
</ul>
</p>-->
<dl>
 <dt>Enlace</dt>
 <dd><a href="https://static.openfoodfacts.org/data/openfoodfacts-mongodbdump.gz">https://static.openfoodfacts.org/data/openfoodfacts-mongodbdump.gz</a></dd>
 <dt>sha256sum</dt>
 <dd><a href="https://static.openfoodfacts.org/data/gz-sha256sum">https://static.openfoodfacts.org/data/gz-sha256sum</a></dd>
 <dt>md5sum</dt>
 <dd><a href="https://static.openfoodfacts.org/data/gz-md5sum">https://static.openfoodfacts.org/data/gz-md5sum</a></dd>
</dl>

<h4>Exportación Delta</h4>

<p>Las exportaciones delta diarias están disponibles para los 14 días anteriores. La lista de archivos delta disponibles actualmente se puede encontrar en <a href="https://static.openfoodfacts.org/data/delta/index.txt">https://static.openfoodfacts.org/data/delta/index.txt</a>.</p>
<p>Cada línea representa un archivo que está disponible en <code>https://static.openfoodfacts.org/data/delta/{filename}</code>.</p>
<p>El nombre del archivo contiene la marca de tiempo de Unix, del primer y último cambio contenido en el archivo JSON, de modo que los archivos delta se pueden importar (después de la extracción) con <code>mongoimport</code> en orden alfabético.</p>
<p>Ten en cuenta que, debido a la naturaleza de <code>mongoexport</code>, los archivos delta no te darán información sobre los productos eliminados. Para eliminar los productos eliminados de tu base de datos, deberás importar el volcado completo de MongoDB.</p>

<h3>Exportar datos JSONL</h3>

<p>La base de datos también está disponible en <a href="https://jsonlines.org/">formato JSONL</a> (a veces llamado LDJSON o NDJSON), donde cada línea es un objeto JSON. Representa los mismos datos que la exportación de MongoDB. El archivo está en formato GZIP.</p>

<dl>
 <dt>Enlace</dt>
 <dd><a href="https://static.openfoodfacts.org/data/openfoodfacts-products.jsonl.gz">https://static.openfoodfacts.org/data/openfoodfacts-products.jsonl.gz</a>
 </dd>
</dl>

<p>Una forma adecuada de aprovechar la base de datos es usar DuckDB, una herramienta de análisis de procesos diseñada para procesar gran cantidad de datos en una fracción de segundos. Puedes leer el <a href="https://blog.openfoodfacts.org/en/news/food-transparency-in-the-palm-of-your-hand-explore-the-largest-open-food-database-using-duckdb-%f0%9f%a6%86x%f0%9f%8d%8a">artículo del blog</a> donde te guiamos en la exploración y procesamiento de la base de datos de Open Food Facts con DuckDB</p>

<h3>Exportación de datos Parquet en Hugging Face</h3>

<p>También está disponible una versión simplificada de JSONL en el formato <a href="https://parquet.apache.org/">Parquet</a>. Durante la conversión, filtramos las columnas que contienen información duplicada, se utilizan para depuración interna o simplemente son irrelevantes para los usuarios.</p>
    
<p>El formato Parquet ha demostrado ser útil:<p> 

<ul>
<li>Los datos se organizan por columna, en lugar de por fila, lo que ahorra espacio de almacenamiento y acelera las consultas analíticas, es decir, puede seleccionar solo las columnas que le interesan, optimizando el rendimiento de las consultas, incluso en computadoras de nivel básico.</li>
<li>Compresión y descompresión de datos altamente eficientes, lo que lo hace ideal para almacenar y compartir grandes conjuntos de datos de cualquier tipo,</li>
<li>Admite tipos de datos complejos y estructuras de datos anidadas avanzadas.</li>
</ul>

<p>El conjunto de datos está disponible en <a href="https://huggingface.co/datasets/openfoodfacts/product-database">Hugging Face</a>, un ecosistema colaborativo de aprendizaje automático donde los desarrolladores e investigadores pueden compartir modelos y conjuntos de datos.</p>

<dl>
 <dt>Enlace</dt>
 <dd><a href="https://huggingface.co/datasets/openfoodfacts/product-database/resolve/main/food.parquet?download=true">https://huggingface.co/datasets/openfoodfacts/product-database/resolve/main/food.parquet?download=true</a>
 </dd>
</dl>

</p>Encuentre más información en la Wiki <a href="https://wiki.openfoodfacts.org/Reusing_Open_Food_Facts_Data#Parquet_file_hosted_on_Hugging_Face_.28beta.29"></a>, incluidas pautas para la reutilización de datos y consultas de ejemplo para comenzar.</p>

<h3>Exportar datos RDF</h3>
<p>Los datos de todos los productos, o algunos de los productos, se pueden descargar en formato CSV (legible con LibreOffice, Excel y muchos otros programas de hojas de cálculo) a través del <a href="https://world.openfoodfacts.org/cgi/search.pl">formulario de búsqueda avanzada</a>.</p>

<dl>
 <dt>Enlaces</dt>
 <dd>Food: <a href="https://static.openfoodfacts.org/data/en.openfoodfacts.org.products.csv.gz">https://static.openfoodfacts.org/data/en.openfoodfacts.org.products.csv.gz</a> (compressed CSV in GZIP format: ~ 0.9 Gb, uncompressed: ~ 9 Gb)</dd>
 <dd>Cosmetics: <a href="https://static.openbeautyfacts.org/data/en.openbeautyfacts.org.products.csv.gz">https://static.openbeautyfacts.org/data/en.openbeautyfacts.org.products.csv.gz</a></dd>
 <dd>Pet Food: <a href="https://static.openpetfoodfacts.org/data/en.openpetfoodfacts.org.products.csv.gz">https://static.openpetfoodfacts.org/data/en.openpetfoodfacts.org.products.csv.gz</a></dd>
 <dd>All other products: <a href="https://static.openproductsfacts.org/data/en.openproductsfacts.org.products.csv.gz">https://static.openproductsfacts.org/data/en.openproductsfacts.org.products.csv.gz</a></dd>
</dl>

<p>La codificación del archivo es Unicode UTF-8. El carácter que separa los campos es &lt;tab&gt; (tabulación).</p>

<h3>Exportar datos RDF</h3>
<p>The database is also available in the RDF format (this is an experiment, not actively maintained anymore). Puedes leer el <a href="https://blog.openfoodfacts.org/fr/news/des-donnees-libres-et-liees-export-rdf-des-donnees">comunicado en francés</a>.</p>

<dl>
 <dt>Enlace</dt>
 <dd><a href="https://world.openfoodfacts.org/data/en.openfoodfacts.org.products.rdf.gz">https://world.openfoodfacts.org/data/en.openfoodfacts.org.products.rdf.gz</a></dd>
</dl>

<h3>Exportación de datos de imágenes</h3>
<p>Todas las imágenes y los resultados de OCR se pueden descargar desde nuestro servidor o desde AWS (a través del Programa de datos abiertos de AWS). 
<a href="https://openfoodfacts.github.io/openfoodfacts-server/api/how-to-download-images/" class="button rounded">Check out our documentation to learn more about how to download images</a></p>

<h2 class="emphasized-title">API JSON y XML</h2>
<p>También está disponible una API JSON para leer los datos de un producto. This API is in particular used in the Open Food Facts mobile app.</p>
<p>Vamos mejorando la API con el tiempo, pero procuramos mantener la compatibilidad con versiones anteriores. Si la quieres utilizar, <a href="mailto:reuse@openfoodfacts.org?subject=Open%20Food%20Facts%20Data%20reuse">contáctanos</a> para que te informemos sobre posibles cambios.</p>
<a href="https://openfoodfacts.github.io/openfoodfacts-server/api/" class="button rounded">Discover our API</a>

<h3 class="emphasized-title">Contributing to improving our API and OpenAPI documentation</h3>
<p>We're eager to finish the documentation of the API, add use-cases, and automate SDK generation. If you are an OpenAPI connoisseur, you are very welcome to help.</p>

<p>You are very welcome to use the API for production cases, as long as 1 API call = 1 real scan by a user.
Any attempt to scrape the database using the API will very likely be blocked, as full daily exports are available on this very page.</p>
<p>Also, sending an HTTP header with your API call is a good way we can get in touch, should any issue arise.</p>

<h3 class="emphasized-title">XML API (unsupported)</h3>
<p>También puedes obtener los resultados en XML usando <code>.xml</code></p>
<p>Ejemplo: <a href="https://world.openfoodfacts.org/api/v2/product/737628064502.xml">https://world.openfoodfacts.org/api/v2/product/737628064502.xml</a></p>
Esta API no se mantiene de forma habitual ni está documentada oficialmente.

<h2 class="emphasized-title">Wrappers y SDKs</h2>
<p>Probablemente tengamos un <i>wrapper</i> para tu lenguaje de programación favorito. Si es así, puedes utilizarlo y mejorarlo. En caso contrario, siempre puedes ayudarnos a crearlo.</p>
<p>Te permitirán consumir datos, así como permitir a tus usuarios que colaboren con nuevos datos.</p>

<h3>Principios generales para hacer felices a tus usuarios</h3>
<ul>
<li>Puedes buscar información sobre productos, incluso muchos valores computados útiles.</li>
<li>Si no puedes obtener información sobre un producto específico, puedes hacer que tus usuarios envíen fotos y datos, que más tarde serán procesados por la AI y los colaboradores de Open Food Facts para obtener el resultado computado que deseas mostrarles.</li>
<li>También puedes implementar el flujo completo para que obtengan inmediatamente el resultado con algo de esfuerzo de tu parte.</li>
</ul>

<h3>Si tus usuarios esperan un resultado inmediato (por ejemplo, aplicaciones de nutrición)</h3>
<ul>
<li>Enviar imágenes (frontal/información nutricional/ingredientes): la manera más indolora para tus usuarios.</li>
<li>La IA de Open Food Facts, Robotoff, generará algunos datos obtenidos de las fotografías.</li>
<li>Con el tiempo, otras aplicaciones, y la comunidad Open Food Facts rellenarán los datos que faltan.</li>
</ul>

<h3>Si tus usuarios no esperan un resultado inmediato (por ejemplo, aplicaciones de inventario)</h3>
<ul>
<li>Sube la información nutricional y la categoría para conseguir el Nutri-Score</li>
<li>Envía los ingredientes para obtener información sobre el grupo NOVA (sobre alimentos ultraprocesados), aditivos, alérgenos, ingredientes normalizados, veganos, vegetarianos…</li>
<li>Envía la categoría y el etiquetado especial y pronto obtendrás el Eco-Score (información sobre el impacto ambiental).</li>
</ul>

<h3>Aplicación móvil para Android y iPhone</h3>

<p>El código de la aplicación móvil de Open Food Facts está disponible en GitHub (<a href="https://github.com/openfoodfacts/smooth-app">Flutter</a>, <a href="https://github.com/openfoodfacts/openfoodfacts-androidapp">Kotlin Android</a> y <a href="https://github.com/openfoodfacts/openfoodfacts-ios">Swift iOS</a>).

<p>We look to turn the deprecated Kotlin and Swift codebases into Kotlin and Swift SDKs, help welcome :-)</p>
<p>:-)
La aplicación permite a los usuarios escanear el código de barras de los productos y así ver su información, además de permitirles hacer y enviar fotografías y datos de los productos que faltan.</p>
<p>Te invitamos a reutilizar el código (es de código abierto) y a ayudarnos a mejorarlo, para todos, en todo el planeta.</p>

<h3>SDK</h3>
<!-- TODO: Install locally to get icons -->
<!--<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">-->

            <div class="grid-x">
                <div class="cell small-12 medium-6 large-4">
                     <label for="sdkFilter">Filter by name:</label>
                     <input type="text" id="sdkFilter" placeholder="e.g., Python, Java, React...">
                </div>
            </div>


            <table class="stack hover" id="sdkTable">
                <thead>
                    <tr>
                        <th width="60">Icon</th>
                        <th width="200" data-sortable data-column-index="1">Language / Framework</th>
                        <th>Recursos</th>
                        <th data-sortable data-column-index="3">Discussion</th>
                    </tr>
                </thead>
                <tbody id="sdkTableBody">
                    <tr>
                        <td data-label="Icon"><i class="devicon-cordova-plain"></i></td>
                        <td data-label="Language / Framework">Cordova (Old App)</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-cordova-app" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion">N/D</td>
                    </tr>
                    <tr>
                        <td data-label="Icon"><i class="devicon-dart-plain"></i></td>
                        <td data-label="Language / Framework">DART</td>
                        <td data-label="Resources">
                            <a href="https://github.com/openfoodfacts/openfoodfacts-dart" target="_blank" rel="noopener noreferrer">GitHub</a>
                            <a href="https://pub.dev/packages/openfoodfacts" target="_blank" rel="noopener noreferrer">pub.dev</a>
                        </td>
                        <td data-label="Discussion">N/D</td> </tr>
                    <tr>
                        <td data-label="Icon"><i class="devicon-elixir-plain"></i></td>
                        <td data-label="Language / Framework">Elixir</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-elixir" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C758AFX0S" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-go-plain"></i></td>
                        <td data-label="Language / Framework">Go</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-go" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C14LGGCUV" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-java-plain"></i></td>
                        <td data-label="Language / Framework">Java</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-java" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C1G3J5RT3" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-java-plain"></i></td>
                        <td data-label="Language / Framework">Spring Boot</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-springboot-starter" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C1G3J5RT3" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                    <tr>
                        <td data-label="Icon"><i class="devicon-kotlin-plain"></i></td>
                        <td data-label="Language / Framework">Kotlin</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-kotlin" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C045VU7NXS9" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-nodejs-plain"></i></td>
                        <td data-label="Language / Framework">NodeJS</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-nodejs" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C1JQQ28P8" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-php-plain"></i></td>
                        <td data-label="Language / Framework">PHP</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-php" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C1G3GTJNM" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-laravel-plain"></i></td>
                        <td data-label="Language / Framework">PHP (Laravel)</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-laravel" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C1G3GTJNM" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-python-plain"></i></td>
                        <td data-label="Language / Framework">Python</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-python" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C13993JDD" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-react-original"></i></td> <td data-label="Language / Framework">React Native</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-react-native" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/CL29QEBPY" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-ruby-plain"></i></td>
                        <td data-label="Language / Framework">Ruby</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-ruby" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C0ZALLH61" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-rust-plain"></i></td>
                        <td data-label="Language / Framework">Naranja rojizo</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-rust" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C010J616CKV" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-r-plain"></i></td>
                        <td data-label="Language / Framework">R</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/r-dashboard" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C2CR356NR" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-swift-plain"></i></td>
                        <td data-label="Language / Framework">Swift</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-swift" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/CE2A1E7MH" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                     <tr>
                        <td data-label="Icon"><i class="devicon-csharp-plain"></i></td> <td data-label="Language / Framework">.NET/C#</td>
                        <td data-label="Resources"><a href="https://github.com/openfoodfacts/openfoodfacts-csharp" target="_blank" rel="noopener noreferrer">GitHub</a></td>
                        <td data-label="Discussion"><a href="https://app.slack.com/client/T02KVRT1Q/C1JHT98HJ" target="_blank" rel="noopener noreferrer">Slack Channel</a></td>
                    </tr>
                </tbody>
            </table>



<script>
    // Ensure the DOM is fully loaded before running scripts
    document.addEventListener('DOMContentLoaded', function() {

        // Initialize Foundation framework components
        $(document).foundation();

        // --- Filtering ---
        const filterInput = document.getElementById('sdkFilter');
        const tableBody = document.getElementById('sdkTableBody');
        // Get live collection of rows - updates automatically if rows are added/removed
        const tableRows = tableBody.getElementsByTagName('tr');

        // Add event listener for input changes (keyup is responsive)
        filterInput.addEventListener('keyup', function() {
            const filterText = filterInput.value.toLowerCase().trim(); // Get filter text, lowercase and trim whitespace

            // Loop through all table rows in the body
            for (let i = 0; i < tableRows.length; i++) {
                const row = tableRows[i];
                // Get all text content from the row's cells
                const rowData = row.textContent || row.innerText;

                // Check if row data includes the filter text
                if (rowData.toLowerCase().indexOf(filterText) > -1) {
                    row.style.display = ""; // Show row if it matches
                } else {
                    row.style.display = "none"; // Hide row if it doesn't match
                }
            }
        });

        // --- Sorting ---
        const table = document.getElementById('sdkTable');
        // Select only headers marked as sortable
        const headers = table.querySelectorAll('th[data-sortable]');
        const tbody = table.querySelector('tbody'); // Reference to the table body

        // Add click event listener to each sortable header
        headers.forEach(header => {
            header.addEventListener('click', () => {
                // Get column index from data attribute (adjusting for 0-based index internally)
                const columnIndex = parseInt(header.dataset.columnIndex, 10);
                // Check current sort direction or default to 'asc' if none
                const currentSortDir = header.dataset.sortDir;
                // Toggle direction: if 'asc', change to 'desc', otherwise change to 'asc'
                const newSortDir = currentSortDir === 'asc' ? 'desc' : 'asc';

                // Remove sort direction attributes from all other headers
                headers.forEach(h => {
                    if (h !== header) {
                        delete h.dataset.sortDir; // Remove attribute to reset arrow style via CSS
                    }
                });

                // Set the new sort direction on the clicked header
                header.dataset.sortDir = newSortDir;

                // Call the sorting function
                sortTable(columnIndex, newSortDir);
            });
        });

        // Function to sort table rows
        function sortTable(columnIndex, direction) {
            // Convert HTMLCollection/NodeList of rows to a standard JavaScript Array
            const rows = Array.from(tbody.querySelectorAll('tr'));

            // Sort the array of rows
            const sortedRows = rows.sort((a, b) => {
                // Get the text content of the cells in the target column for comparison
                // Use textContent for consistency, trim whitespace, convert to lowercase
                const cellA = a.querySelectorAll('td')[columnIndex]?.textContent.trim().toLowerCase() || '';
                const cellB = b.querySelectorAll('td')[columnIndex]?.textContent.trim().toLowerCase() || '';

                // Comparison logic
                if (cellA < cellB) {
                    return direction === 'asc' ? -1 : 1; // If 'asc', A comes first (-1), else B comes first (1)
                }
                if (cellA > cellB) {
                    return direction === 'asc' ? 1 : -1; // If 'asc', B comes first (1), else A comes first (-1)
                }
                return 0; // If equal, order doesn't matter
            });

            // Clear the current rows from the table body
            // While loop is efficient for removing all children
            while (tbody.firstChild) {
                tbody.removeChild(tbody.firstChild);
            }

            // Append the sorted rows back into the table body
            // Using spread syntax (...) to append all elements in the array
            tbody.append(...sortedRows);
        }

    }); // End DOMContentLoaded
</script>

<h2 class="emphasized-title">Discusión sobre datos, API y exportaciones</h2>

<p>Puedes consultar <a href="https://support.openfoodfacts.org/help/es-es/12">las preguntas frecuentes sobre la API y las exportaciones de datos y las</a> <a href="https://support.openfoodfacts.org/help/es-es">preguntas comunes de Open Food Facts</a>.</p>
<p>Puedes unirte a<a href="https://slack.openfoodfacts.org"> la sala de chat de Open Food Facts en Slack</a>, que es la mejor forma de hacer preguntas y hablar sobre la API</a>. Por favor, no dudes en<a href="https://app.slack.com/client/T02KVRT1Q/C043X1X90">exponer tus preguntas en el canal #api</a>.</p>
<p>You can <a href="https://github.com/openfoodfacts/openfoodfacts-server/discussions">open a thread on our API documentation repository</a>
<p>Para cualquier pregunta relacionada con los datos, ponte en contacto con nosotros enviando un correo electrónico a <a href="mailto:reuse@openfoodfacts.org">reuse@openfoodfacts.org</a>.
